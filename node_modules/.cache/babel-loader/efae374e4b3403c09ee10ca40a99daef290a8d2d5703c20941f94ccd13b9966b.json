{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import Navigation from\"../components/Navigation\";import axios from\"axios\";import Card from\"../components/Card\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Favoris=()=>{const[data,setData]=useState([]);useEffect(()=>{let moviesId=window.localStorage.movies?window.localStorage.movies.split(\",\"):[];const fetchData=async()=>{const newData=[];for(let i=0;i<moviesId.length;i++){try{const response=await axios.get(\"https://api.themoviedb.org/3/movie/\".concat(moviesId[i],\"?api_key=ed82f4c18f2964e75117c2dc65e2161d&language=fr-FR\"));newData.push(response.data);}catch(error){console.error(\"Error fetching movie:\",error);}}setData(newData);};fetchData();},[]);const deleteCard=movieId=>{setData(data.filter(movie=>movie.id!==movieId));};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Navigation,{}),/*#__PURE__*/_jsx(\"div\",{className:\"result\",children:data.length>0?data.map(movie=>/*#__PURE__*/_jsx(Card,{movie:movie,onDelete:deleteCard},movie.id)):/*#__PURE__*/_jsx(\"h2\",{children:\"Aucun coup de coeur pour le moment\"})})]});};export default Favoris;","map":{"version":3,"names":["React","useEffect","useState","Navigation","axios","Card","jsx","_jsx","jsxs","_jsxs","Favoris","data","setData","moviesId","window","localStorage","movies","split","fetchData","newData","i","length","response","get","concat","push","error","console","deleteCard","movieId","filter","movie","id","children","className","map","onDelete"],"sources":["/Users/valentinwestermeyer/Library/Mobile Documents/com~apple~CloudDocs/Dev/Formation/TP/React/movie-app/src/pages/Favoris.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport Navigation from \"../components/Navigation\";\nimport axios from \"axios\";\nimport Card from \"../components/Card\";\n\nconst Favoris = () => {\n  const [data, setData] = useState([]);\n\n  useEffect(() => {\n    let moviesId = window.localStorage.movies\n      ? window.localStorage.movies.split(\",\")\n      : [];\n\n    const fetchData = async () => {\n      const newData = [];\n      for (let i = 0; i < moviesId.length; i++) {\n        try {\n          const response = await axios.get(\n            `https://api.themoviedb.org/3/movie/${moviesId[i]}?api_key=ed82f4c18f2964e75117c2dc65e2161d&language=fr-FR`\n          );\n          newData.push(response.data);\n        } catch (error) {\n          console.error(\"Error fetching movie:\", error);\n        }\n      }\n      setData(newData);\n    };\n\n    fetchData();\n  }, []);\n\n  const deleteCard = (movieId) => {\n    setData(data.filter((movie) => movie.id !== movieId));\n  };\n\n  return (\n    <div>\n      <Navigation />\n      <div className=\"result\">\n        {data.length > 0 ? (\n          data.map((movie) => (\n            <Card movie={movie} key={movie.id} onDelete={deleteCard} />\n          ))\n        ) : (\n          <h2>Aucun coup de coeur pour le moment</h2>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default Favoris;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,MAAO,CAAAC,UAAU,KAAM,0BAA0B,CACjD,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,IAAI,KAAM,oBAAoB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEtC,KAAM,CAAAC,OAAO,CAAGA,CAAA,GAAM,CACpB,KAAM,CAACC,IAAI,CAAEC,OAAO,CAAC,CAAGV,QAAQ,CAAC,EAAE,CAAC,CAEpCD,SAAS,CAAC,IAAM,CACd,GAAI,CAAAY,QAAQ,CAAGC,MAAM,CAACC,YAAY,CAACC,MAAM,CACrCF,MAAM,CAACC,YAAY,CAACC,MAAM,CAACC,KAAK,CAAC,GAAG,CAAC,CACrC,EAAE,CAEN,KAAM,CAAAC,SAAS,CAAG,KAAAA,CAAA,GAAY,CAC5B,KAAM,CAAAC,OAAO,CAAG,EAAE,CAClB,IAAK,GAAI,CAAAC,CAAC,CAAG,CAAC,CAAEA,CAAC,CAAGP,QAAQ,CAACQ,MAAM,CAAED,CAAC,EAAE,CAAE,CACxC,GAAI,CACF,KAAM,CAAAE,QAAQ,CAAG,KAAM,CAAAlB,KAAK,CAACmB,GAAG,uCAAAC,MAAA,CACQX,QAAQ,CAACO,CAAC,CAAC,4DACnD,CAAC,CACDD,OAAO,CAACM,IAAI,CAACH,QAAQ,CAACX,IAAI,CAAC,CAC7B,CAAE,MAAOe,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,uBAAuB,CAAEA,KAAK,CAAC,CAC/C,CACF,CACAd,OAAO,CAACO,OAAO,CAAC,CAClB,CAAC,CAEDD,SAAS,CAAC,CAAC,CACb,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAU,UAAU,CAAIC,OAAO,EAAK,CAC9BjB,OAAO,CAACD,IAAI,CAACmB,MAAM,CAAEC,KAAK,EAAKA,KAAK,CAACC,EAAE,GAAKH,OAAO,CAAC,CAAC,CACvD,CAAC,CAED,mBACEpB,KAAA,QAAAwB,QAAA,eACE1B,IAAA,CAACJ,UAAU,GAAE,CAAC,cACdI,IAAA,QAAK2B,SAAS,CAAC,QAAQ,CAAAD,QAAA,CACpBtB,IAAI,CAACU,MAAM,CAAG,CAAC,CACdV,IAAI,CAACwB,GAAG,CAAEJ,KAAK,eACbxB,IAAA,CAACF,IAAI,EAAC0B,KAAK,CAAEA,KAAM,CAAgBK,QAAQ,CAAER,UAAW,EAA/BG,KAAK,CAACC,EAA2B,CAC3D,CAAC,cAEFzB,IAAA,OAAA0B,QAAA,CAAI,oCAAkC,CAAI,CAC3C,CACE,CAAC,EACH,CAAC,CAEV,CAAC,CAED,cAAe,CAAAvB,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}